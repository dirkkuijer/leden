{% form_theme edit_form 'form/content.html.twig' %}  
{% extends 'layout.html.twig' %}
     
  {% block stylesheet %}
            {% stylesheets filter='cssrewrite' output="css/main.css"
                "%kernel.root_dir%/Resources/assets/css/foundation.css"
                "%kernel.root_dir%/Resources/assets/css/main.css"
                "%kernel.root_dir%/Resources/assets/css/all.css"
            %}
            <link rel="stylesheet" href="{{ asset_url }}" />
            {% endstylesheets %}  
    {% endblock %}


{% block body %}
    <h3>Lid bewerken</h3>

    <div class="grid-x grid-padding-x">
            <div class="cell medium-2">
                <a href="{{ path('member_index') }}">Terug naar lijst</a>
            </div>
            <div class="cell medium-10"></div>
    </div>
<p>

{% if is_granted('ROLE_ADMIN') %}
    {{ form_start(edit_form) }}
    {{ form_row(edit_form.firstName) }}
    {{ form_row(edit_form.lastName) }}
    {{ form_row(edit_form.email) }}
    {{ form_row(edit_form.street) }}
    {{ form_row(edit_form.houseNumber) }}
    {{ form_row(edit_form.houseNumberAddition) }}
    {{ form_row(edit_form.zipCode) }}
    {{ form_row(edit_form.city) }}
    {{ form_row(edit_form.telephone) }}
    {{ form_row(edit_form.dateOfBirth) }}


     {# Second form for dates and reason membership #}
<p>
{# Second form with the dates and reasons #}
        {% import _self as forms %}
        {% macro memberTypeRow(widget) %}
        
            {% if widget.vars.prototype is defined %}
                {% set form = widget.vars.prototype %}
                {% set name = widget.vars.prototype.vars.name %}
            {% else %}
                {% set form = widget %}
                {% set name = widget.vars.full_name %}
            {% endif %} 

{# theme template form/content.html.twig #}

    <div class="collection-item">
  
        <div class="grid-x grid-padding-x">
            <div class="cell medium-4"></div>
                    <h5>Aanvullende Eigenschappen:</h5>
            <div class="cell medium-8"></div>
        </div>
            
    
        {{ form(form)}}
        {{ form_widget(form) }}

    {# hier is ook het veld "soort lid in verwerkt. Deze staat in een andere tabel" #}
        <div class="grid-x grid-padding-x">
            <div class="cell medium-8"></div>
                <div class="cell medium-2">
                    <a href="javascript:void(0);" class="button tiny collection-remove"
                    data-collection-item-class="collection-item">- Eigenschappen</a>
                </div>
            <div class="cell medium-2"></div>
        </div>
    {# </div>       
</div> #}
{% endmacro %}

      {# Geprobeerd boven endmacro: werkt niet #}
            <div id="memberTypes" data-prototype="
                {{ forms.memberTypeRow(edit_form.type.vars.prototype)|e('html_attr') }}">
                {% for type in edit_form.type %}
                    {{ form_row(edit_form.type) }}
                {% endfor %}
            </div>
            
            <div class="grid-x grid-padding-x">
                <div class="cell medium-8"></div>    
                <div class="cell medium-2">    
                    <a href="#" class="button tiny" id="collection-add" data-collection="memberTypes" data-index="{{ edit_form.type|length }}">
                        + Eigenschappen</a>
                </div>
                <div class="cell medium-2">  
                </div>
            </div>

    </div>

{# end second form #}


    <div class="grid-x grid-padding-x">
        <div class="cell medium-6"></div>
            <div class="cell medium-2">  
                <input class="button" type="submit" value="Opslaan"/>
                {{ form_end(edit_form) }}
            </div> 
        <div class="cell medium-1"> {{ form_start(delete_form) }}
                <input class="button" type="submit" value="Verwijderen" />
            {{ form_end(delete_form) }}</div>   
    <div class="cell medium-3"></div>
           
    {% else %}
<p> U bent niet bevoegd om deze inhoud te zien of te bewerken. </p>

{% endif %}
    {{ form_end(edit_form) }}


{% endblock %}
